<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>PlayerIQ</title>

    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="#F7931A">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="PlayerIQ">
    <link rel="apple-touch-icon" href="icons/apple-touch-icon.png">

    <!-- Prevent zooming -->
    <meta name="format-detection" content="telephone=no">

    <!-- Manifest -->
    <link rel="manifest" href="manifest.json">

    <!-- Styles -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap');

        :root {
            --bg-primary: #0F0F10;
            --bg-secondary: #1A1A1C;
            --bg-tertiary: #242427;
            --text-primary: #FFFFFF;
            --text-secondary: #B8B8BC;
            --text-tertiary: #787880;
            --brand-gold: #F7931A;
            --brand-gold-light: #FFB84D;
            --brand-success: #4ADE80;
            --brand-danger: #EF4444;
            --border-color: #2A2A2D;
            /* iOS Safe Areas */
            --sat: env(safe-area-inset-top);
            --sab: env(safe-area-inset-bottom);
        }

        * {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        html, body {
            margin: 0;
            padding: 0;
            height: 100%;
            background: var(--bg-primary);
            color: var(--text-primary);
            overscroll-behavior: none;
            -webkit-user-select: none;
            user-select: none;
        }

        #app {
            height: 100vh;
            height: -webkit-fill-available;
            display: flex;
            flex-direction: column;
            padding-top: var(--sat);
        }

        .screen {
            display: none;
            flex: 1;
            flex-direction: column;
            overflow: hidden;
        }

            .screen.active {
                display: flex;
            }

        .status-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 20px;
            background: var(--bg-primary);
            border-bottom: 1px solid var(--border-color);
            color: var(--text-secondary);
            font-size: 14px;
        }

        .content {
            flex: 1;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
        }

        .input-field {
            width: 100%;
            padding: 16px;
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            color: var(--text-primary);
            font-size: 16px;
            transition: all 0.2s;
        }

            .input-field:focus {
                outline: none;
                border-color: var(--brand-gold);
                background: var(--bg-tertiary);
            }

            .input-field::placeholder {
                color: var(--text-tertiary);
            }

        .btn-primary {
            width: 100%;
            padding: 16px;
            background: var(--brand-gold);
            color: var(--bg-primary);
            font-weight: 600;
            font-size: 16px;
            border-radius: 12px;
            border: none;
            cursor: pointer;
            transition: all 0.2s;
        }

            .btn-primary:active {
                transform: scale(0.98);
                background: var(--brand-gold-light);
            }

        .btn-secondary {
            width: 100%;
            padding: 16px;
            background: var(--bg-secondary);
            color: var(--text-primary);
            font-weight: 600;
            font-size: 16px;
            border-radius: 12px;
            border: 1px solid var(--border-color);
            cursor: pointer;
            transition: all 0.2s;
        }

            .btn-secondary:active {
                transform: scale(0.98);
                background: var(--bg-tertiary);
            }

        .card {
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 16px;
            padding: 24px;
        }

        .bottom-nav {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            background: var(--bg-secondary);
            border-top: 1px solid var(--border-color);
            padding-bottom: var(--sab);
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 12px;
            color: var(--text-tertiary);
            cursor: pointer;
            transition: all 0.2s;
        }

            .nav-item.active {
                color: var(--brand-gold);
            }

            .nav-item svg {
                width: 24px;
                height: 24px;
                margin-bottom: 4px;
            }

        /* Loading splash */
        .splash {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--bg-primary);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            transition: opacity 0.3s;
        }

            .splash.hide {
                opacity: 0;
                pointer-events: none;
            }

        /* Animations */
        @keyframes slideUp {
            from {
                transform: translateY(20px);
                opacity: 0;
            }

            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .animate-up {
            animation: slideUp 0.3s ease-out;
        }
    </style>
</head>
<body>
    <!-- Splash Screen -->
    <div class="splash" id="splash">
        <div style="text-align: center;">
            <div style="width: 100px; height: 100px; margin: 0 auto 24px; background: linear-gradient(135deg, var(--brand-gold) 0%, var(--brand-gold-light) 100%); border-radius: 24px; display: flex; align-items: center; justify-content: center; font-size: 48px; font-weight: 800; color: var(--bg-primary);">IQ</div>
            <h1 style="font-size: 32px; font-weight: 800; color: var(--text-primary);">PlayerIQ</h1>
        </div>
    </div>

    <!-- Main App -->
    <div id="app">
        <!-- Status Bar -->
        <div class="status-bar">
            <span id="time">9:41 AM</span>
            <span>PlayerIQ</span>
            <span id="battery">100%</span>
        </div>

        <!-- Landing Screen -->
        <div id="landing" class="screen active">
            <div class="content" style="display: flex; flex-direction: column; padding: 32px 24px;">
                <div style="flex: 1; display: flex; flex-direction: column; justify-content: center;">
                    <div style="width: 80px; height: 80px; margin: 0 auto 24px; background: linear-gradient(135deg, var(--brand-gold) 0%, var(--brand-gold-light) 100%); border-radius: 20px; display: flex; align-items: center; justify-content: center; font-size: 40px; font-weight: 800; color: var(--bg-primary);">IQ</div>
                    <h1 style="font-size: 32px; font-weight: 800; color: var(--text-primary); text-align: center; margin-bottom: 8px;">PlayerIQ</h1>
                    <p style="font-size: 16px; color: var(--text-secondary); text-align: center; margin-bottom: 48px;">Premium Gaming Experience</p>

                    <div class="card animate-up" style="margin-bottom: 24px;">
                        <h3 style="font-size: 18px; font-weight: 600; color: var(--text-primary); margin-bottom: 16px;">Welcome to PlayerIQ</h3>
                        <ul style="margin-bottom: 24px; padding-left: 0; list-style: none;">
                            <li style="color: var(--text-secondary); font-size: 14px; margin-bottom: 12px; display: flex; align-items: center;">
                                <span style="color: var(--brand-success); margin-right: 12px;">✓</span>
                                Track your rewards and points
                            </li>
                            <li style="color: var(--text-secondary); font-size: 14px; margin-bottom: 12px; display: flex; align-items: center;">
                                <span style="color: var(--brand-success); margin-right: 12px;">✓</span>
                                Join table queues remotely
                            </li>
                            <li style="color: var(--text-secondary); font-size: 14px; display: flex; align-items: center;">
                                <span style="color: var(--brand-success); margin-right: 12px;">✓</span>
                                Get exclusive VIP offers
                            </li>
                        </ul>
                        <button class="btn-primary" onclick="installApp()">Install App</button>
                    </div>

                    <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 16px;">
                        <button onclick="showScreen('login')" class="btn-secondary">Sign In</button>
                        <button onclick="showScreen('register')" class="btn-secondary">Register</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Login Screen -->
        <div id="login" class="screen">
            <div class="content">
                <div style="padding: 32px 24px;">
                    <button onclick="showScreen('landing')" style="color: var(--text-tertiary); margin-bottom: 32px; font-size: 14px; background: none; border: none;">
                        ← Back
                    </button>

                    <h2 style="font-size: 28px; font-weight: 700; color: var(--text-primary); margin-bottom: 8px;">Welcome Back</h2>
                    <p style="font-size: 16px; color: var(--text-secondary); margin-bottom: 32px;">Sign in to your account</p>

                    <form onsubmit="handleLogin(event)">
                        <div style="margin-bottom: 20px;">
                            <label style="display: block; margin-bottom: 8px; color: var(--text-secondary); font-size: 14px; font-weight: 500;">Email Address</label>
                            <input type="email" class="input-field" placeholder="player@example.com" required>
                        </div>

                        <div style="margin-bottom: 20px;">
                            <label style="display: block; margin-bottom: 8px; color: var(--text-secondary); font-size: 14px; font-weight: 500;">Password</label>
                            <input type="password" class="input-field" placeholder="Enter your password" required>
                        </div>

                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 24px;">
                            <div style="display: flex; align-items: center; gap: 12px;">
                                <input type="checkbox" id="remember" checked style="width: 20px; height: 20px; accent-color: var(--brand-gold);">
                                <label for="remember" style="color: var(--text-secondary); font-size: 14px;">Remember me</label>
                            </div>
                            <a href="#" style="color: var(--brand-gold); font-size: 14px; text-decoration: none;">Forgot?</a>
                        </div>

                        <button type="submit" class="btn-primary" style="margin-bottom: 24px;">Sign In</button>

                        <p style="text-align: center; color: var(--text-secondary); font-size: 14px;">
                            Don't have an account?
                            <a href="#" onclick="showScreen('register'); return false;" style="color: var(--brand-gold); text-decoration: none;">Register</a>
                        </p>
                    </form>
                </div>
            </div>
        </div>

        <!-- Register Screen -->
        <div id="register" class="screen">
            <div class="content">
                <div style="padding: 32px 24px;">
                    <button onclick="showScreen('landing')" style="color: var(--text-tertiary); margin-bottom: 32px; font-size: 14px; background: none; border: none;">
                        ← Back
                    </button>

                    <h2 style="font-size: 28px; font-weight: 700; color: var(--text-primary); margin-bottom: 8px;">Create Account</h2>
                    <p style="font-size: 16px; color: var(--text-secondary); margin-bottom: 32px;">Join PlayerIQ today</p>

                    <form onsubmit="handleRegister(event)">
                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 16px; margin-bottom: 20px;">
                            <div>
                                <label style="display: block; margin-bottom: 8px; color: var(--text-secondary); font-size: 14px; font-weight: 500;">First Name</label>
                                <input type="text" class="input-field" placeholder="John" required>
                            </div>
                            <div>
                                <label style="display: block; margin-bottom: 8px; color: var(--text-secondary); font-size: 14px; font-weight: 500;">Last Name</label>
                                <input type="text" class="input-field" placeholder="Doe" required>
                            </div>
                        </div>

                        <div style="margin-bottom: 20px;">
                            <label style="display: block; margin-bottom: 8px; color: var(--text-secondary); font-size: 14px; font-weight: 500;">Email Address</label>
                            <input type="email" class="input-field" placeholder="player@example.com" required>
                        </div>

                        <div style="margin-bottom: 20px;">
                            <label style="display: block; margin-bottom: 8px; color: var(--text-secondary); font-size: 14px; font-weight: 500;">Mobile Number</label>
                            <input type="tel" class="input-field" placeholder="+1 (555) 123-4567">
                        </div>

                        <div style="margin-bottom: 20px;">
                            <label style="display: block; margin-bottom: 8px; color: var(--text-secondary); font-size: 14px; font-weight: 500;">Password</label>
                            <input type="password" class="input-field" placeholder="Minimum 8 characters" required>
                        </div>

                        <button type="submit" class="btn-primary" style="margin-bottom: 24px;">Create Account</button>

                        <p style="text-align: center; color: var(--text-secondary); font-size: 14px;">
                            Already have an account?
                            <a href="#" onclick="showScreen('login'); return false;" style="color: var(--brand-gold); text-decoration: none;">Sign In</a>
                        </p>
                    </form>
                </div>
            </div>
        </div>

        <!-- Dashboard Screen -->
        <div id="dashboard" class="screen">
            <div class="content" style="flex: 1; display: flex; flex-direction: column;">
                <!-- Header Card -->
                <div style="padding: 24px;">
                    <div class="card">
                        <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 20px;">
                            <div>
                                <p style="font-size: 12px; color: var(--text-tertiary); text-transform: uppercase; letter-spacing: 0.5px; margin-bottom: 4px;">Welcome back</p>
                                <h2 style="font-size: 24px; font-weight: 700; color: var(--text-primary);">John Doe</h2>
                            </div>
                            <span style="background: var(--brand-gold); color: var(--bg-primary); padding: 6px 12px; border-radius: 20px; font-size: 12px; font-weight: 600;">GOLD</span>
                        </div>

                        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px;">
                            <div style="text-align: center; padding: 16px 8px; border-right: 1px solid var(--border-color);">
                                <div style="font-size: 24px; font-weight: 700; color: var(--text-primary); margin-bottom: 4px;">12,450</div>
                                <div style="font-size: 12px; color: var(--text-tertiary); text-transform: uppercase;">Points</div>
                            </div>
                            <div style="text-align: center; padding: 16px 8px; border-right: 1px solid var(--border-color);">
                                <div style="font-size: 24px; font-weight: 700; color: var(--brand-gold); margin-bottom: 4px;">$2,100</div>
                                <div style="font-size: 12px; color: var(--text-tertiary); text-transform: uppercase;">Credits</div>
                            </div>
                            <div style="text-align: center; padding: 16px 8px;">
                                <div style="font-size: 24px; font-weight: 700; color: var(--text-primary); margin-bottom: 4px;">147</div>
                                <div style="font-size: 12px; color: var(--text-tertiary); text-transform: uppercase;">Visits</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Quick Actions -->
                <div style="flex: 1; padding: 0 24px 24px;">
                    <h3 style="font-size: 14px; font-weight: 600; color: var(--text-secondary); text-transform: uppercase; letter-spacing: 0.5px; margin-bottom: 16px;">Quick Actions</h3>

                    <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 16px; margin-bottom: 32px;">
                        <div class="card" style="text-align: center; cursor: pointer;" onclick="alert('Joining queue...')">
                            <div style="font-size: 32px; margin-bottom: 8px;">🎮</div>
                            <div style="font-size: 14px; font-weight: 600; color: var(--text-primary); margin-bottom: 4px;">Join Queue</div>
                            <div style="font-size: 12px; color: var(--text-tertiary);">2 min wait</div>
                        </div>
                        <div class="card" style="text-align: center; cursor: pointer;" onclick="alert('Opening contests...')">
                            <div style="font-size: 32px; margin-bottom: 8px;">🏆</div>
                            <div style="font-size: 14px; font-weight: 600; color: var(--text-primary); margin-bottom: 4px;">Contests</div>
                            <div style="font-size: 12px; color: var(--text-tertiary);">3 active</div>
                        </div>
                        <div class="card" style="text-align: center; cursor: pointer;" onclick="alert('Viewing rewards...')">
                            <div style="font-size: 32px; margin-bottom: 8px;">🎁</div>
                            <div style="font-size: 14px; font-weight: 600; color: var(--text-primary); margin-bottom: 4px;">Rewards</div>
                            <div style="font-size: 12px; color: var(--text-tertiary);">5 available</div>
                        </div>
                        <div class="card" style="text-align: center; cursor: pointer;" onclick="alert('Opening wallet...')">
                            <div style="font-size: 32px; margin-bottom: 8px;">💳</div>
                            <div style="font-size: 14px; font-weight: 600; color: var(--text-primary); margin-bottom: 4px;">Wallet</div>
                            <div style="font-size: 12px; color: var(--text-tertiary);">Add funds</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Bottom Navigation -->
            <div class="bottom-nav">
                <div class="nav-item active">
                    <svg fill="currentColor" viewBox="0 0 20 20">
                        <path d="M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"></path>
                    </svg>
                    <span style="font-size: 12px; font-weight: 500;">Home</span>
                </div>
                <div class="nav-item">
                    <svg fill="currentColor" viewBox="0 0 20 20">
                        <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                        <path fill-rule="evenodd" d="M4 5a2 2 0 012-2 1 1 0 000 2H6a2 2 0 00-2 2v6a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-1a1 1 0 100-2h1a4 4 0 014 4v6a4 4 0 01-4 4H6a4 4 0 01-4-4V7a4 4 0 014-4z" clip-rule="evenodd"></path>
                    </svg>
                    <span style="font-size: 12px; font-weight: 500;">Activity</span>
                </div>
                <div class="nav-item">
                    <svg fill="currentColor" viewBox="0 0 20 20">
                        <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                        <path d="M9 5a1 1 0 11-2 0 1 1 0 012 0zM13 5a1 1 0 11-2 0 1 1 0 012 0z"></path>
                    </svg>
                    <span style="font-size: 12px; font-weight: 500;">Rewards</span>
                </div>
                <div class="nav-item">
                    <svg fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-6-3a2 2 0 11-4 0 2 2 0 014 0zm-2 4a5 5 0 00-4.546 2.916A5.986 5.986 0 0010 16a5.986 5.986 0 004.546-2.084A5 5 0 0010 11z" clip-rule="evenodd"></path>
                    </svg>
                    <span style="font-size: 12px; font-weight: 500;">Profile</span>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Update time
        function updateTime() {
            const now = new Date();
            const time = now.toLocaleTimeString('en-US', { hour: 'numeric', minute: '2-digit', hour12: true });
            document.getElementById('time').textContent = time;
        }
        updateTime();
        setInterval(updateTime, 60000);

        // Hide splash screen
        setTimeout(() => {
            document.getElementById('splash').classList.add('hide');
        }, 1500);

        // Screen navigation
        function showScreen(screenId) {
            document.querySelectorAll('.screen').forEach(screen => {
                screen.classList.remove('active');
            });
            document.getElementById(screenId).classList.add('active');
        }

        // Form handlers
        function handleLogin(e) {
            e.preventDefault();
            showScreen('dashboard');
        }

        function handleRegister(e) {
            e.preventDefault();
            showScreen('dashboard');
        }

        // PWA Install
        let deferredPrompt;

        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault();
            deferredPrompt = e;
        });

        function installApp() {
            if (deferredPrompt) {
                deferredPrompt.prompt();
                deferredPrompt.userChoice.then((choiceResult) => {
                    if (choiceResult.outcome === 'accepted') {
                        console.log('User accepted the install prompt');
                    }
                    deferredPrompt = null;
                });
            } else {
                // Fallback instructions
                if (/iPhone|iPad|iPod/.test(navigator.userAgent)) {
                    alert('To install: Tap the Share button below, then "Add to Home Screen"');
                } else {
                    alert('To install: Look for the install icon in your browser\'s address bar');
                }
            }
        }

        // Register Service Worker
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/sw.js')
                    .then(registration => {
                        console.log('ServiceWorker registration successful');

                        // Check for updates
                        registration.addEventListener('updatefound', () => {
                            const newWorker = registration.installing;
                            newWorker.addEventListener('statechange', () => {
                                if (newWorker.state === 'activated') {
                                    // New service worker activated, prompt for reload
                                    if (confirm('New version available! Reload to update?')) {
                                        window.location.reload();
                                    }
                                }
                            });
                        });
                    })
                    .catch(err => console.log('ServiceWorker registration failed: ', err));
            });
        }

        // Handle standalone mode (iOS)
        if (window.navigator.standalone) {
            document.body.classList.add('standalone');
        }

        // Prevent pull-to-refresh
        let lastTouchY = 0;
        document.addEventListener('touchstart', e => {
            lastTouchY = e.touches[0].clientY;
        }, { passive: false });

        document.addEventListener('touchmove', e => {
            const touchY = e.touches[0].clientY;
            const touchDiff = touchY - lastTouchY;

            if (window.scrollY === 0 && touchDiff > 0 && e.cancelable) {
                e.preventDefault();
            }

            lastTouchY = touchY;
        }, { passive: false });
    </script>
</body>
</html>